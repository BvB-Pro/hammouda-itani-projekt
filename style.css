/* =========================================================
   Hammouda-Itani-Stiftung – style.css (v4)
   - Dezenter, ruhiger Hintergrund/Look (wie früher)
   - Header mit Glas-Effekt, Mega-Dropdown (geschlossen bis Klick)
   - Karten, Buttons, Badges, Formulare
   - Collapsible/aufklappbare Bereiche (für alle Module)
   - Dark-Mode, Responsive, Print
   ========================================================= */

/* ---------- Design Tokens ---------- */
:root{
  --bg: #f5f7fb;
  --bg-soft: rgba(255,255,255,.7);
  --text: #1c2330;
  --muted: #6b7280;
  --card: #ffffffcc;
  --border: rgba(28,35,48,.12);
  --accent: #4f46e5;     /* ruhiges Indigo */
  --accent-2: #22c1c3;   /* sanftes Türkis */
  --ok: #0ea573;
  --warn: #f59e0b;
  --danger: #e11d48;
  --shadow: 0 10px 30px rgba(16,24,40,.12);
  --radius: 16px;
  --blur: 8px;
}

:root.dark{
  --bg: #0b0f17;
  --bg-soft: rgba(255,255,255,.06);
  --text: #e7eaf2;
  --muted: #a7afc6;
  --card: rgba(16,20,30,.72);
  --border: rgba(255,255,255,.08);
  --accent: #6366f1;
  --accent-2: #38d9e6;
  --shadow: 0 10px 40px rgba(0,0,0,.36);
}

/* ---------- Reset & Grundlayout ---------- */
*{ box-sizing: border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, "Noto Sans", sans-serif;
  color: var(--text);
  background:
    radial-gradient(900px 600px at 12% -10%, #a1c4fd2b 0, transparent 55%),
    radial-gradient(900px 600px at 108% 0%, #22c1c32b 0, transparent 55%),
    var(--bg);
  overflow-x: hidden;
}

/* ---------- dünner Farbbalken oben (dezent) ---------- */
.paintbar{
  position: fixed; inset: 0 0 auto 0; height: 4px; z-index: 50;
  background: linear-gradient(90deg, var(--accent), var(--accent-2), var(--accent));
  background-size: 200% 100%;
  animation: pb 10s linear infinite;
}
@keyframes pb{ to{ background-position: 200% 0; }}

/* ---------- Header ---------- */
.app-header{
  position: sticky; top:0; z-index: 40;
  display:flex; align-items:center; justify-content:space-between;
  gap:16px; padding: 12px clamp(14px, 4vw, 36px);
  backdrop-filter: blur(10px);
  background: linear-gradient(180deg, rgba(255,255,255,.55), rgba(255,255,255,.18));
  border-bottom: 1px solid var(--border);
}
:root.dark .app-header{
  background: linear-gradient(180deg, rgba(20,24,34,.6), rgba(20,24,34,.3));
}

.brand{ display:flex; align-items:center; gap:10px; }
.logo{
  width:38px; height:38px; border-radius: 10px;
  display:grid; place-items:center; color:#fff; font-weight:700;
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  box-shadow: var(--shadow);
}
.brand-text strong{ display:block; font-size: 16px; line-height:1.1; }
.brand-text small{ color: var(--muted); }

/* ---------- Navigation & Dropdown ---------- */
.nav{ display:flex; align-items:center; gap:10px; }

.btn{
  appearance:none; border:1px solid var(--border); background: var(--bg-soft);
  padding:.5rem .85rem; border-radius: 10px; cursor:pointer;
  color: var(--text); font-weight: 600;
  transition: transform .06s ease, box-shadow .2s ease, background .2s ease;
  backdrop-filter: blur(6px);
}
.btn:hover{ transform: translateY(-1px); box-shadow: var(--shadow); }
.btn:active{ transform: translateY(0); }
.btn.primary{ border-color: transparent; background: linear-gradient(135deg, var(--accent), var(--accent-2)); color:#fff; }
.btn.ghost{ background: transparent; border-color: var(--border); }

.dropdown{ position: relative; }
.dropdown .menu{
  position: absolute; top: calc(100% + 8px);
  min-width: 240px; padding: 10px;
  background: var(--card); border:1px solid var(--border);
  box-shadow: var(--shadow); border-radius: 14px;
  display:none; /* standardmäßig zu */
  z-index: 45;
}
.dropdown.open .menu{ display:block; }
.dropdown .menu button,
.dropdown .menu a{
  display:block; width:100%;
  padding:.6rem .7rem; border-radius: 10px;
  color: var(--text); text-align:left; text-decoration:none;
  border: none; background: transparent; cursor: pointer;
}
.dropdown .menu button:hover,
.dropdown .menu a:hover{ background: rgba(0,0,0,.06); }
.dropdown .menu .danger{ color: var(--danger); }

.dropdown.mega{ --menu-w: min(86vw, 680px); }
.dropdown.mega .menu.grid{
  width: var(--menu-w);
  max-height: 70vh; overflow:auto;
  /* NICHT display:grid; (sonst immer offen) */
}
.dropdown.mega.open .menu.grid{
  display: grid;
  grid-template-columns: repeat(2, minmax(220px, 1fr));
  gap:10px;
}
.kachel{
  display:flex; gap:10px; align-items:flex-start;
  background: rgba(255,255,255,.6);
  padding:.7rem; border-radius: 12px; border:1px solid var(--border);
}
:root.dark .kachel{ background: rgba(24,28,40,.65); }
.kachel .icon{
  width:32px; height:32px; border-radius:8px; display:grid; place-items:center; color:#fff;
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
}

/* ---------- Hero ---------- */
.hero-visual{ padding: 18px clamp(14px, 4vw, 36px) 0; }
.hero{ padding: 6px clamp(14px, 4vw, 36px) 0; }
.hero .card h1{ margin:0 0 4px 0; font-size: clamp(22px, 3vw, 30px); }
.hero .card p{ margin:0; color: var(--muted); }

/* ---------- Card ---------- */
.card{
  margin: 12px clamp(14px, 4vw, 36px);
  padding: clamp(14px, 2.4vw, 22px);
  border-radius: var(--radius);
  background: var(--card);
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
  backdrop-filter: blur(var(--blur));
}
.card h3{ margin:0 0 10px 0; font-size: 18px; }
.card .muted{ color: var(--muted); }

/* ---------- Badge ---------- */
.badge{
  display:inline-block; padding:.18rem .5rem;
  border-radius: 999px; font-size: 12px; font-weight:700; color:#fff;
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  margin-left: .35rem;
}

/* ---------- Toolbar ---------- */
.toolbar{ display:flex; gap:8px; flex-wrap: wrap; margin-top: 10px; }

/* ---------- Formulare ---------- */
label{ display:block; margin: 8px 0; font-weight: 600; color: var(--text); }
input, select, textarea{
  width:100%; margin-top:6px;
  background: rgba(255,255,255,.8);
  border:1px solid var(--border);
  border-radius: 10px; padding:.6rem .7rem;
  color: var(--text); outline: none;
  transition: box-shadow .2s ease, border-color .2s ease, background .2s ease;
}
:root.dark input, :root.dark select, :root.dark textarea{
  background: rgba(24,28,40,.7);
}
input:focus, select:focus, textarea:focus{
  border-color: color-mix(in oklab, var(--accent), white 10%);
  box-shadow: 0 0 0 4px color-mix(in oklab, var(--accent), transparent 85%);
}
textarea{ min-height:110px; resize: vertical; }

/* ---------- Collapsible / Aufklappbereiche ---------- */
.panel{ display:none; }
.panel.show{ display:block; }
.btn.active{
  color:#fff;
  background: linear-gradient(135deg, var(--accent), var(--accent-2));
  border-color: transparent;
  box-shadow: var(--shadow);
}

/* ---------- Personen-Grid & Listen ---------- */
.grid-2{ display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: 12px; }
.person{
  padding:.8rem; border-radius: 14px; border:1px solid var(--border);
  background: rgba(255,255,255,.65); backdrop-filter: blur(6px);
}
:root.dark .person{ background: rgba(24,28,40,.65); }

/* ---------- Footer ---------- */
.app-footer{ color: var(--muted); text-align:center; padding: 24px 16px 36px; }

/* ---------- Print ---------- */
@media print{
  .paintbar, .app-header, .hero-visual, #printBtn{ display:none !important; }
  .card{ box-shadow:none; background:#fff; border-color:#ddd; }
  body{ background:#fff; color:#000; }
}

/* ---------- Responsive ---------- */
@media (max-width: 900px){
  .dropdown.mega.open .menu.grid{ grid-template-columns: 1fr; }
  .grid-2{ grid-template-columns: 1fr; }
}
@media (max-width: 640px){
  .brand-text small{ display:none; }
}

/* ---------- Fokus ---------- */
:where(button, a, input, select, textarea):focus-visible{
  outline: 3px solid color-mix(in oklab, var(--accent), transparent 70%);
  outline-offset: 2px;
}

/* ---------- Kleiner „glow“ an Cards ---------- */
.card{ position: relative; }
.card::after{
  content:""; position:absolute; inset:-1px; border-radius: inherit; pointer-events:none;
  background: linear-gradient(180deg, transparent, rgba(255,255,255,.14) 10%, transparent 40%) border-box;
  mask: linear-gradient(#000 0 0) padding-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  border: 1px solid var(--border);
}

/* ---------- Utility ---------- */
.muted{ color: var(--muted); }
#printBtn{ font-size: 20px; line-height: 1; }
